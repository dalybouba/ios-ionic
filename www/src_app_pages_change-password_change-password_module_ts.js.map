{"version":3,"sources":["./src/app/pages/change-password/change-password-routing.module.ts","./src/app/pages/change-password/change-password.module.ts","./src/app/pages/change-password/change-password.page.ts","./src/app/pages/change-password/change-password.page.scss","./src/app/pages/change-password/change-password.page.html"],"names":[],"mappings":"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","file":"src_app_pages_change-password_change-password_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ChangePasswordPage } from './change-password.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ChangePasswordPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ChangePasswordPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ChangePasswordPageRoutingModule } from './change-password-routing.module';\r\n\r\nimport { ChangePasswordPage } from './change-password.page';\r\nimport {TranslateModule} from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ChangePasswordPageRoutingModule,\r\n    TranslateModule.forChild(),\r\n    ReactiveFormsModule\r\n\r\n  ],\r\n  declarations: [ChangePasswordPage]\r\n})\r\nexport class ChangePasswordPageModule {}\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {UiService} from '../../services/ui/ui';\r\nimport {ApiServices} from '../../services/api-services/api-services';\r\nimport {NavParams} from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-change-password',\r\n  templateUrl: './change-password.page.html',\r\n  styleUrls: ['./change-password.page.scss'],\r\n})\r\nexport class ChangePasswordPage implements OnInit {\r\n\r\n   addReginForm: any;\r\n   submitReg = false;\r\npublic   token: any;\r\npublic   showPassword = false;\r\n   user: any = {};\r\n\r\n  constructor(public router: Router,\r\n              private formBuilder: FormBuilder,\r\n              private ui: UiService,\r\n              private services: ApiServices,\r\n              public navParams: NavParams) {\r\n    this.token = this.navParams.get('token');\r\n    console.log(' TOKEN TOKEN', this.token);\r\n    this.addReginForm = formBuilder.group(\r\n      {\r\n        password: [\r\n          '',\r\n          Validators.compose([Validators.required, Validators.minLength(8)])\r\n        ],\r\n        vpassword: [\r\n          '',\r\n          Validators.compose([Validators.required, Validators.minLength(8)])\r\n        ]\r\n      }, {validator: this.checkIfMatchingPasswords('password', 'vpassword')});\r\n  }\r\n\r\n  checkIfMatchingPasswords(\r\n    passwordKey: string,\r\n    passwordConfirmationKey: string\r\n  ) {\r\n    return (group: FormGroup) => {\r\n      const passwordInput = group.controls[passwordKey];\r\n      const passwordConfirmationInput = group.controls[passwordConfirmationKey];\r\n      if (passwordInput.value !== passwordConfirmationInput.value) {\r\n        return passwordConfirmationInput.setErrors({notEquivalent: true});\r\n      } else {\r\n        return passwordConfirmationInput.setErrors(null);\r\n      }\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    \r\n  }\r\n\r\n  cahngepasswordView() {\r\n    this.showPassword = !this.showPassword;\r\n   \r\n  }\r\n\r\n  changePassword() {\r\n    this.submitReg = true;\r\n    if (this.addReginForm.valid) {\r\n      this.services.changepassword(this.token, this.user.password).then(() => {\r\n        console.log('passwordChanged');\r\n        this.router.navigateByUrl('/login');\r\n        this.ui.toast('Mot de Passe Changer', null, null, 3000, 'top');\r\n      }).catch((err: any) => {\r\n        this.services.fireError(err);\r\n      });\r\n\r\n    }\r\n  }\r\n}\r\n","export default \".input-has-focus .item-inner {\\n  border-bottom: none !important;\\n  background: #f0b23e0e;\\n  box-shadow: none !important;\\n}\\n\\n.item {\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  position: relative;\\n}\\n\\n.row {\\n  margin: 10px 2px;\\n  box-shadow: 1px 1px 9px -5px rgba(0, 0, 0, 0.9);\\n}\\n\\n.item-md ion-icon[item-end] {\\n  z-index: 999 !important;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUU7RUFDRSw4QkFBNkI7RUFDN0IscUJBQXFCO0VBQ3JCLDJCQUEwQjtBQUM5Qjs7QUFFRTtFQUNFLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3RCOztBQUVFO0VBQ0UsZ0JBQWdCO0VBQ2hCLCtDQUErQztBQUNuRDs7QUFFRTtFQUNFLHVCQUFzQjtBQUMxQiIsImZpbGUiOiJjaGFuZ2UtcGFzc3dvcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiICAuaW5wdXQtaGFzLWZvY3VzIC5pdGVtLWlubmVye1xyXG4gICAgYm9yZGVyLWJvdHRvbTogbm9uZSFpbXBvcnRhbnQ7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjBiMjNlMGU7XHJcbiAgICBib3gtc2hhZG93OiBub25lIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5pdGVte1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICB9XHJcblxyXG4gIC5yb3d7XHJcbiAgICBtYXJnaW46IDEwcHggMnB4O1xyXG4gICAgYm94LXNoYWRvdzogMXB4IDFweCA5cHggLTVweCByZ2JhKDAsIDAsIDAsIDAuOSk7XHJcbiAgfVxyXG5cclxuICAuaXRlbS1tZCBpb24taWNvbltpdGVtLWVuZF17XHJcbiAgICB6LWluZGV4OiA5OTkhaW1wb3J0YW50O1xyXG4gIH1cclxuIl19 */\";","export default \"<ion-header>\\r\\n  <ion-toolbar  color=\\\"logo\\\">\\r\\n    <ion-menu-toggle>\\r\\n<ion-button side=\\\"start\\\">\\r\\n      <ion-icon name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n</ion-menu-toggle>\\r\\n    <ion-title>\\r\\n      {{'change_password.change_password'|translate}}\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"primary\\\">\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content padding>\\r\\n  <form  [formGroup]='addReginForm'>\\r\\n    <ion-row>\\r\\n      <ion-col >\\r\\n        <ion-input formControlName=\\\"password\\\"   [type]=\\\"!showPassword ? 'password' : 'text'\\\" placeholder=\\\"{{'change_password.password'|translate}}\\\"></ion-input>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <div *ngIf=\\\"(!addReginForm.controls.password?.valid && (addReginForm.controls.password?.dirty || submitReg))\\\" class=\\\"erreurMsg\\\">&nbsp;\\r\\n      <span *ngIf=\\\"addReginForm.hasError('minlength',['password'])\\\">{{'errors.min-length.8'|translate}}</span>\\r\\n      <span *ngIf=\\\"addReginForm.hasError('required',['password'])\\\">{{'errors.required'|translate}}</span>\\r\\n      &nbsp;\\r\\n    </div>\\r\\n    <ion-row>\\r\\n      <ion-col >\\r\\n        <ion-input formControlName=\\\"vpassword\\\" [type]=\\\"!showPassword ? 'password' : 'text'\\\" placeholder=\\\"{{'change_password.password'|translate}}\\\"></ion-input>\\r\\n        <ion-icon *ngIf=\\\"!showPassword\\\" (click)=\\\"cahngepasswordView()\\\" color=\\\"primary\\\" item-end name=\\\"eye\\\">\\r\\n        </ion-icon>\\r\\n        <ion-icon *ngIf=\\\"showPassword\\\" (click)=\\\"cahngepasswordView()\\\" color=\\\"primary\\\" item-end name=\\\"eye-off\\\">\\r\\n        </ion-icon>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <div *ngIf=\\\"(!addReginForm.controls.vpassword?.valid && (addReginForm.controls.vpassword?.dirty || submitReg))\\\" class=\\\"erreurMsg\\\">&nbsp;\\r\\n      <span *ngIf=\\\"addReginForm.hasError('required',['vpassword'])\\\">{{'errors.required'|translate}}</span>\\r\\n      <span *ngIf=\\\"addReginForm.hasError('notEquivalent',['vpassword'])\\\">{{'errors.notConform'|translate}}</span>\\r\\n      &nbsp;\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <ion-button (click)=\\\"changePassword()\\\" expand=\\\"full\\\" slot=\\\"start\\\">\\r\\n      <ion-icon name=\\\"md-checkmark\\\"></ion-icon>\\r\\n      {{'change_password.change'|translate}}\\r\\n    </ion-button>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}